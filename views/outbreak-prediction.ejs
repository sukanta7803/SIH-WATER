<div class="dashboard-grid">
  <div class="dashboard-card">
    <h3 class="card-title">Hotspot Map</h3>
    <% if (mapPath) { %>
      <div class="outbreak-map">
        <iframe src="<%= mapPath %>" width="100%" height="600" style="border:none;border-radius:0.5rem;box-shadow:0 8px 20px rgba(0,0,0,0.12);"></iframe>
      </div>
    <% } else { %>
      <div class="alert alert-warning">Map is not available.</div>
    <% } %>
  </div>
</div>

<div class="dashboard-card" style="margin-top:1rem;">
  <h3 class="card-title">Outbreak Predictions</h3>
  <% if ((redzones || []).length === 0) { %>
    <div class="alert alert-info">No data available.</div>
  <% } else { %>
    <div class="table-responsive" style="overflow-x:auto;">
      <table class="table table-striped table-bordered" style="width:100%;border-collapse:separate;border-spacing:0;">
        <thead>
          <tr>
            <th style="text-align:center;white-space:nowrap;">Outbreak Prediction Percentage</th>
            <th style="text-align:left;white-space:nowrap;">District Name</th>
            <th style="text-align:left;white-space:nowrap;">Disease Name</th>
            <th style="text-align:center;white-space:nowrap;">Date</th>
          </tr>
        </thead>
        <tbody>
          <% redzones.forEach(function(r){ %>
            <tr>
              <td style="text-align:center;"><%= r.percentage %> %</td>
              <td style="text-align:left;"><%= (r.district || '').replace(/^[^A-Za-z0-9]+\s*/, '') %></td>
              <td style="text-align:left;"><%= r.disease %></td>
              <td style="text-align:center;"><%= r.date %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% } %>
</div>
